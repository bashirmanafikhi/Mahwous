@page "/quotes/{id:int}"
@inject NotAuthorizedRepositories repositories




<div class="container">
    <div class="card my-4">

        <div class="card-header">

        </div>

        <div class="card-body">
            @if (quote != null)
            {
            <div class="card  text-center">
                <div class="card-body">

                    <p class="card-text">
                        @quote.Content

                    </p>

                </div>


                <div class="card-footer">
                    <AuthorizeView>
                        <Authorized>
                            <a class="btn btn-info" href="administration/quotes/edit/@quote.Id">تعديل</a>
                        </Authorized>
                    </AuthorizeView>
                    <a class="btn btn-primary" href="api/quotes/download/@quote.Id">تحميل</a>
                    <a class="btn btn-info" href="quotes">رجوع</a>
                </div>
            </div> }
            else
            {
                <p><i class="fas fa-spin fa-spinner"></i> جاري تحميل الحالة </p>
            }
        </div>

        <div class="card-footer">

        </div>

    </div>
</div>



@code {
    [Parameter] public int id { get; set; }
    MahwousWeb.Shared.Models.QuoteStatus quote;

    protected async override Task OnParametersSetAsync()
    {
        quote = await repositories.QuotesRepository.Get(id);
    }
}
